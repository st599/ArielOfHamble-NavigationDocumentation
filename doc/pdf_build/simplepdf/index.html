<!DOCTYPE html>

<html data-content_root="./" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/><meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>Ariel of Hamble Navigation 0.5 documentation</title>
<link href="_static/pygments.css?v=d75fae25" rel="stylesheet" type="text/css"/>
<link href="_static/main.css?v=9187bc91" rel="stylesheet" type="text/css"/>
<script src="_static/documentation_options.js?v=46e7a9db"></script>
<script src="_static/doctools.js?v=fd6eb6e6"></script>
<script src="_static/sphinx_highlight.js?v=6ffebe34"></script>
<link href="genindex.html" rel="index" title="Index"/>
<link href="search.html" rel="search" title="Search"/>
</head><body><article class="dont-break" id="cover">
<div class="container">
<!-- Logo -->
<div class="logo">
<p></p>
</div>
<!-- Cover middle -->
<div class="cover-middle">
<div class="title">
<h1 class="title-cover">Ariel of Hamble Navigation</h1>
<p class="subtitle-cover">Version 0.5</p>
<span class="meta">
</span>
</div>
<!--
      <div class="client-logo">
        <img src="../data/logo_.png" alt="Logotipo">
      </div>
      -->
</div>
<!-- Footer -->
<div class="cover-footer">
<p>
</p>
</div>
</div>
</article>
<div aria-label="Main" class="sphinxsidebar" role="navigation">
<div class="sphinxsidebarwrapper">
<div>
<h3><a href="#">Table of Contents</a></h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="#document-pages/introduction">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#document-pages/introduction#to-do">To Do</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-pages/introduction#terms-and-definitions">Terms and Definitions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#document-pages/overview">Navigation Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#document-pages/overview#tackticks">TackTicks</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-pages/overview#emtrak-ais">EmTrak AIS</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-pages/overview#standard-horizon-vhf">Standard Horizon VHF</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-pages/overview#raspberrypi">RaspberryPi</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-pages/overview#openplotter">OpenPlotter</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-pages/overview#custom-software">Custom Software</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-pages/overview#future-projects">Future Projects</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#document-pages/booting">Starting the Navigation System</a></li>
<li class="toctree-l1"><a class="reference internal" href="#document-pages/opencpn_basic">Basic Use of OpenCPN Plotter</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#document-pages/opencpn_basic#interface-overview">Interface Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-pages/opencpn_basic#chart-display-options">Chart Display Options</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-pages/opencpn_basic#zooming-and-panning">Zooming and Panning</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-pages/opencpn_basic#getting-information-on-chart-item">Getting Information on Chart Item</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-pages/opencpn_basic#measuring-distance-on-chart">Measuring Distance on Chart</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-pages/opencpn_basic#adding-waypoints-marks">Adding Waypoints/Marks</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-pages/opencpn_basic#creating-and-activating-a-route">Creating and Activating a Route</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-pages/opencpn_basic#course-up-mode">Course-up Mode</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-pages/opencpn_basic#showing-ais-targets">Showing AIS Targets</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#document-pages/opencpn_advanced">Advanced Use of OpenCPN</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#document-pages/opencpn_advanced#accessing-tidal-data">Accessing Tidal Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-pages/opencpn_advanced#ais-radar-plots">AIS Radar Plots</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-pages/opencpn_advanced#updating-charts">Updating Charts</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-pages/opencpn_advanced#connecting-to-navigation-data-via-wifi">Connecting to Navigation Data via WiFi</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-pages/opencpn_advanced#kip-dashboard">KIP Dashboard</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#document-pages/other_openplotter_software">Other Useful OpenPlotter Software</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#document-pages/other_openplotter_software#xygrib">XyGrib</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-pages/other_openplotter_software#vlc">VLC</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-pages/other_openplotter_software#screenshot">Screenshot</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#document-pages/shutdown">Shutting Down the Navigation System</a></li>
<li class="toctree-l1"><a class="reference internal" href="#document-pages/troubleshooting">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="#document-pages/reporting_fault">Reporting a Fault</a></li>
<li class="toctree-l1"><a class="reference internal" href="#document-pages/update_list">Update List</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#document-pages/update_list#major-chart-updates">Major Chart Updates</a></li>
</ul>
</li>
</ul>
</div>
</div>
</div>
<div class="document">
<div class="documentwrapper">
<div class="bodywrapper">
<div class="body" role="main">
<section id="ariel-of-hamble-navigation-documentation">
<h1>Ariel of Hamble Navigation Documentation<a class="headerlink" href="#ariel-of-hamble-navigation-documentation" title="Link to this heading">¶</a></h1>
<p>Please note - IP addresses and passwords are not present in this document as it is available on the public Internet.</p>
<div class="toctree-wrapper compound">
<span id="document-pages/introduction"></span><section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Link to this heading">¶</a></h2>
<section id="to-do">
<h3>To Do<a class="headerlink" href="#to-do" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Photo of Pi</p></li>
<li><p>Navigate to waypoint</p></li>
<li><p>Tidal Data</p></li>
<li><p>Importing from Navionics Boating App</p></li>
<li><p>Fault Reporting</p></li>
<li><p>Troubleshooting</p></li>
</ul>
</section>
<section id="terms-and-definitions">
<h3>Terms and Definitions<a class="headerlink" href="#terms-and-definitions" title="Link to this heading">¶</a></h3>
<blockquote>
<div><p>Measured Data</p>
</div></blockquote>
<p>Data that can be directly measured from the boat’s systems.
For example, Apparent Wind Speed, Location</p>
<blockquote>
<div><p>Derived Data</p>
</div></blockquote>
<p>Data that needs to be derived from multiple data sources.
Examples include True Wind Speed (from Apparent Wind Speed, Speed and Heading), Sunset Time (from Location, Date and a Database).</p>
<blockquote>
<div><p>GNSS</p>
</div></blockquote>
<p>Global Navigation Satellite System, examples include GPS and Galileo.</p>
<blockquote>
<div><p>Speed</p>
</div></blockquote>
<p>How fast you’re moving in any direction.</p>
<blockquote>
<div><p>Velocity</p>
</div></blockquote>
<p>How fast you’re moving in relation to a specific direction.  Travel relative to North at a Speed of 5kts, then you’re velocity is 5kts.  Travel South - your speed is still 5kts but your velocity is -5kts.  Travel due East, your velocity is 0kts, even though your speed is 5kts.</p>
<blockquote>
<div><p>Open Standard</p>
</div></blockquote>
<p>A specification that is published by a standards developing organisation and is available under fair, reasonable and non-discriminatory (FRAND) terms - this does not mean free.  This allows a number of organisations to make equipment that can interact with each other.
Examples include NMEA 0183, Ethernet</p>
<blockquote>
<div><p>Proprietary</p>
</div></blockquote>
<p>A data format designed and used by one company for their products, not usually available under FRAND terms.  Any interaction with such a format usually requires a degree of reverse engineering.
Examples include SeaTalk, Micronet</p>
<blockquote>
<div><p>Open Source</p>
</div></blockquote>
<p>Usually used for software to mean that it is available under a licence such as the GNU General Public Licence, which allow you to use, build upon, distribute, sell etc. provided you allow others to do the same.
Examples include the OpenCPN Plotter and SignalK data format and software.</p>
</section>
</section>
<span id="document-pages/overview"></span><section id="navigation-overview">
<h2>Navigation Overview<a class="headerlink" href="#navigation-overview" title="Link to this heading">¶</a></h2>
<p>This is an overview of the software and hardware used for Ariel of Hamble’s Navigation.  The term navigation network is used to describe the network that is used to pass data between nodes around the boat, but in reality it is a number of networks.  Further data will be provided in a deep-dive section at a future date.</p>
<blockquote>
<div><p>NOTE: Please be aware that some information is measured and some is derived from those measurements.  For example, Apparent Wind Speed (AWS) is measured and True Wind Speed (TWS) is calculated from AWS and Speed Through the Water (STW).  A problem with a measured value will cause knock-on issues with values derived from it.</p>
</div></blockquote>
<section id="tackticks">
<h3>TackTicks<a class="headerlink" href="#tackticks" title="Link to this heading">¶</a></h3>
<p>The TackTick instruments are used to generate depth, speed through the water, water temperature, apparent wind speed and apparent wind direction.  The TackTick units use a proprietary radio network called <a class="reference external" href="https://open-boat-projects.org/en/micronet/">Raymarine Micronet</a> to pass information between the units installed in the navigation cupboard, the wind sensor and the display units.</p>
<section id="display-units">
<h4>Display Units<a class="headerlink" href="#display-units" title="Link to this heading">¶</a></h4>
<p><img alt="Instruments" src="_images/ticktack.jpg"/></p>
<p>Ariel has 3 display units:</p>
<ul class="simple">
<li><p>1 wind display which can show either apparent wind direction and speed or true wind direction and speed.</p></li>
<li><p>2 double number displays which can be configured to show information such as depth, speed through the water, COG and SOG, time, location.</p></li>
</ul>
<blockquote>
<div><p>NOTE - please be very careful with the TackTick display units.  They are extraordinarily expensive to replace - over £2000 per set.</p>
</div></blockquote>
</section>
<section id="depth">
<h4>Depth<a class="headerlink" href="#depth" title="Link to this heading">¶</a></h4>
<p><img alt="Depth Transducer" src="_images/depth-transducer.jpg"/></p>
<p>The depth sounder uses ultrasonic waves to measure the depth beneath the transducer.  The offset between the transducer and the bottom of the keel is applied in the Raspberry Pi.  The depth sounder also provides the sea water temperature to the network.  It connects to the unit in the navigation cupboard using a proprietary wired direct connection.</p>
</section>
<section id="speed">
<h4>Speed<a class="headerlink" href="#speed" title="Link to this heading">¶</a></h4>
<p><img alt="Speed Transducer" src="_images/speed-transducer.jpg"/></p>
<p>The speed transducer uses a paddle wheel to measure the speed of the boat throught the water.  It connects to the unit in the navigation cupboard using a proprietary wired direct connection.</p>
</section>
<section id="wind-speed-and-direction">
<h4>Wind Speed and Direction<a class="headerlink" href="#wind-speed-and-direction" title="Link to this heading">¶</a></h4>
<p><img alt="Micronet" src="_images/Micronet-768x464.png"/></p>
<p>The Wind Speed and Direction unit at the top of the mast is solar powered.  It transmits the information to the unit in the Navigation locker using a proprietary format called MicroNet.</p>
</section>
<section id="interior-temperature-pressure-and-humidity">
<h4>Interior Temperature, Pressure and Humidity<a class="headerlink" href="#interior-temperature-pressure-and-humidity" title="Link to this heading">¶</a></h4>
<p>A small PCB in the navigaation cupboard provides Temperature, Pressure and Humidity data to the Rapsberry Pi via a short IIC connection.</p>
</section>
</section>
<section id="emtrak-ais">
<h3>EmTrak AIS<a class="headerlink" href="#emtrak-ais" title="Link to this heading">¶</a></h3>
<p><img alt="EmTrak B900" src="_images/B900.jpg"/></p>
<p>The EmTrak AIS is a multipurpose device.  It is the vessel’s source of location data, it is an AIS class B+ transceiver, sending the boat’s location to other vessels and, when in range, shore stations, it receives the locations of other vessels and it has an inbuilt switch connecting both the internal AIS and the VHF to the mast-head antenna.</p>
<p>To prevent the VHF being powered on and transmitting in to a switched off AIS unit, both the EmTrak and VHF are on the same power switch “VHF”.</p>
<p>The EmTrak AIS uses the GPS antenna on the stern railing.</p>
<section id="gnss-information">
<h4>GNSS Information<a class="headerlink" href="#gnss-information" title="Link to this heading">¶</a></h4>
<p>The EmTrak sends the following GNSS information to the Navigation system:</p>
<ul class="simple">
<li><p>Location</p></li>
<li><p>COG and SOG</p></li>
<li><p>Rate of Turn</p></li>
<li><p>Time</p></li>
<li><p>Number of Satellites</p></li>
<li><p>Precision</p></li>
</ul>
<blockquote>
<div><p>NOTE: The EmTrak unit uses the US GPS, EU Galileo, Russian Glonass and Chinese Beidou GNSS satellites.</p>
</div></blockquote>
</section>
<section id="ais-targets">
<h4>AIS Targets<a class="headerlink" href="#ais-targets" title="Link to this heading">¶</a></h4>
<p>The EmTrak also sends:</p>
<ul class="simple">
<li><p>Class A Vessel Location</p></li>
<li><p>Class B Vessel Location</p></li>
<li><p>Class A Vessel Type, Cargo, Destinations etc.</p></li>
<li><p>Search and Rescue Aircraft</p></li>
<li><p>Aids to Navigation (“Virtual Buoys”)</p></li>
<li><p>Safety Messages (MOB devices, SARTs etc.)</p></li>
</ul>
</section>
</section>
<section id="standard-horizon-vhf">
<h3>Standard Horizon VHF<a class="headerlink" href="#standard-horizon-vhf" title="Link to this heading">¶</a></h3>
<p><img alt="SH-VHF" src="_images/gx1800e.jpg"/></p>
<p>The Standard Horizon VHF uses the GPS signal from the EmTrack AIS unit. The location and time are shown on the front panel LCD of the VHF unit - these are required to make the DSC emergency calling system work.</p>
<p>(The VHF has an in-built VHF too, this is switched off as having multiple GPS locations being added to the network was one of the causes of issues seen in the first season)</p>
<p>The Standard Horizon also sends the location of emergency alerts received to the network so they can be viewed on the OpenCPN chart plotting software.</p>
</section>
<section id="raspberrypi">
<h3>RaspberryPi<a class="headerlink" href="#raspberrypi" title="Link to this heading">¶</a></h3>
<p><em>Insert Image</em></p>
<p>The RaspberryPi is the heart of the Navigation System.  It is a small, but fully functional, computer system that runs a free specialist operating system called OpenPlotter.  Originally designed for school students to be able to own a small, cheap computer - they’re now used in many industrial settings.</p>
<p>In adition to the main computer board, we have added two other specialist boards to the system (known as HATs).</p>
<ul class="simple">
<li><p>MacArthur HAT - a specialist board produced by the company that creates OpenPlotter - it has inputs and outputs for NMEA 0183, NMEA 2000, NMEA OneNet, SeaTalk etc. plus the ability to interface to industrial sensors.  The HAT also allows a safe shutdown of the computer board and has 2 sensors - environmental conditions in the cabin and a 9 degrees of freedom orientation sensor.</p></li>
<li><p>SSD Hard Disk board - to allow us to run the software from a proper hard disk, not an SD card.</p></li>
</ul>
</section>
<section id="openplotter">
<h3>OpenPlotter<a class="headerlink" href="#openplotter" title="Link to this heading">¶</a></h3>
<p>OpenPlotter is a Linux-based operating system designed to use a cheap RaspberryPi computer and convert it in to a fully functional plotter system.  It uses almost exclusively free, open source, community projects - which means it’s fully tested by a large community, there’s a number of projects around the world which maintain it and increase functionality and there’s a method to request changes.</p>
<p>OpenPlotter provides an interface to all of the standard data formats used by yacht hardware and a number of those used for industrial sensors.</p>
<p>The measured and computed data is collated in a central database by a software package called SignalK, which then makes the values available to other software packages (such as the chart plotter) and over the network for crew to use on their tablets.</p>
<p>OpenPlotter also provides a software chartplotter, weather prediction software, interfaces for autohelms, internet browsing, video viewing and an interface for a range of radio communications (at present we haven’t implemented the radio communications module on Ariel)</p>
<p>Further details on OpenPlotter can be found at the <a class="reference external" href="https://openmarine.net/openplotter">OpenPlotter Website</a>.</p>
<section id="signalk">
<h4>SignalK<a class="headerlink" href="#signalk" title="Link to this heading">¶</a></h4>
<p>SignalK is software designed to import data from a variety of sources around the boat and store it in a central database which can be accessed by other software.  On Ariel, the SignalK servier takes data from a range of inputs such as the NMEA 0143 bus used by the TackTicks and EmTrak, from the barometer and thermometer in the navigation locker and software modules running on the Raspberry Pi and imports them in to the database.  SignalK also stores a range of static data in this database which can be used in calculations, e.g. vessel draught.</p>
<p>SignalK stores data addresses and values, for example:</p>
<p><code class="docutils literal notranslate"><span class="pre">/vessels/&lt;mmsi&gt;/environment/windSpeedTrue</span> <span class="pre">4.23</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">/vessels/&lt;mmsi&gt;/navigation/position</span> <span class="pre">51.23453,-0.12248,2.34</span></code></p>
<p>This database is available to other software to read from - the plotter software, OpenCPN, receives all of its locations details, AIS vessels to overlay, DSC alerts directly from the SignalK database.  SignalK also has a number of output plugins so the data is converted back to NMEA 0143 so derived values can be displayed on the TackTicks, to a data stream that can be used by Navionics or similar on member’s phones and tablets and in some cases to files so that trends can be observed (e.g. we’re actively monitoring battery state to see if we can understand better what is causing mysterious battery drainage).</p>
<p>Further details on SignalK can be found at <a class="reference external" href="https://signalk.org/">SignalK Website</a>.</p>
</section>
<section id="opencpn">
<h4>OpenCPN<a class="headerlink" href="#opencpn" title="Link to this heading">¶</a></h4>
<p><img alt="OpenCPN" src="_images/opencpn.jpg"/></p>
<p>OpenCPN is a fully functional chartplotter which can:</p>
<ul class="simple">
<li><p>Display a wide range of chart formats including those made available for Europe via O-charts</p></li>
<li><p>Be used for all electronic chartplotter tasks such as adding routes, waypoints etc</p></li>
<li><p>Can display the location of emergency alarm signals such as MOB alarms, DSC safety messages etc.</p></li>
<li><p>Can display AIS targets including closest point of approach lines.</p></li>
<li><p>Can overlay GRIB weather prediction files</p></li>
<li><p>Can display tidal heights and currents, magnetic offsets etc.</p></li>
<li><p>Can display Radar overlays.</p></li>
<li><p>Can be extended by plugins to do tasks such as Vessel Data Recording.</p></li>
</ul>
<p>Further details on OpenCPN can be found at <a class="reference external" href="https://www.opencpn.org/">OpenCPN Website</a></p>
<blockquote>
<div><p>NOTE: OpenCPN is freely available on Windows, Mac, Linux and Android - please download and familiarise yourself - the charts for the entirety of the UK are also available for about £20.</p>
</div></blockquote>
<section id="o-charts">
<h5>O-Charts<a class="headerlink" href="#o-charts" title="Link to this heading">¶</a></h5>
<p><img alt="O Charts UK Overview" src="_images/ocharts-uk.jpg"/></p>
<p><a class="reference external" href="https://www.o-charts.org/">O-charts</a> use the latest information from a number of European hydrographic offices to create chart packages specifically designed for OpenCPN.  Each purchase is licensed to a USB key that is plugged in to the Raspberry Pi.</p>
<p>The visual design of the charts is fully cusomisable - we have made it look like an Admiralty chart on Ariel - please note that you may need to zoom in on the chart to see all of the information present.</p>
<blockquote>
<div><p>NOTE: without the USB key, the charts will not be displayed.</p>
</div></blockquote>
<p>Each year we purchase the entire UK chart set plus any required for the summer cruise, e.g. Atlantic France.  If you are planning on sailing anywhere that could require new charts, please contact the Commodore.  Charts can be installed remotely.  Charts receive updates every four weeks - again updates can be run remotely.</p>
</section>
<section id="mob-and-safety-notifications">
<h5>MOB and Safety Notifications<a class="headerlink" href="#mob-and-safety-notifications" title="Link to this heading">¶</a></h5>
<p>MOB alarms work in a number of different ways.  If members wish to use a DSC based MOB alarm <em>the wearer must register the vessel MMSI number with the device</em>.  This is usually done via an smart phone app.</p>
<p>The location of MOB and Safery alerts are shown on the chart surrounded by a flashing ragged ‘circle’ and an alarm is sounded.</p>
<p><img alt="AIS SART" src="_images/ais-sart.jpg"/></p>
</section>
</section>
<section id="dashboard">
<h4>Dashboard<a class="headerlink" href="#dashboard" title="Link to this heading">¶</a></h4>
<p>OpenPlotter provides a web-based Dashboard for displaying information stored within the SignalK database.  This uses software called KIP.  This is accessed using a web browser.</p>
<p>The dashboard has a number of pages:</p>
<ul class="simple">
<li><p>Sailing data overview - windrose, wind speed, speed, heading, COG, SOG etc.</p></li>
<li><p>Location data - location, local time, sunrise and sunset times at this location</p></li>
<li><p>Boat data - engine hours, battery status etc.</p></li>
</ul>
<p><img alt="KIP Demo" src="_images/KIPDemo.png"/></p>
</section>
</section>
<section id="custom-software">
<h3>Custom Software<a class="headerlink" href="#custom-software" title="Link to this heading">¶</a></h3>
<p>Our custom software uses a number of tools that are built in to the Raspberry Pi’s operating system.  The majority use a service called <code class="docutils literal notranslate"><span class="pre">cron</span></code> which runs a specific programme at a specific time.</p>
<section id="engine-hours">
<h4>Engine Hours<a class="headerlink" href="#engine-hours" title="Link to this heading">¶</a></h4>
<p>The engine hours meter works by sampling the voltage output from the alternator.  If a voltage is present, the alternator and engine are running.  The total hours value is stored in a text file.  Every 3 mins the software checks for the presence of voltage and if present, increments the time stored in the file and sends to new value to the SignalK database.</p>
</section>
<section id="offsite-notifier">
<h4>Offsite Notifier<a class="headerlink" href="#offsite-notifier" title="Link to this heading">¶</a></h4>
<p>The offsite notifier uses a service called (<a class="reference external" href="https://ntfy.sh/">ntfy.sh</a>) - sending short notifications from the Raspberry Pi which can be read by the Boatswain’s team and committee.  To ensure that Skippers and Mates are aware that a notification is running, a short jingle is played.  For information on the NTFY channel that you need to subscribe to, please contact the commodore.</p>
<section id="location">
<h5>Location<a class="headerlink" href="#location" title="Link to this heading">¶</a></h5>
<p>The location notification checks if the boat is approaching a fixed location and sends a ntfy.sh notification.  This is mainly used on the approach to Elephant Boatyard to know when the boatswain’s team can visit the yard to do work.</p>
</section>
<section id="sunset">
<h5>Sunset<a class="headerlink" href="#sunset" title="Link to this heading">¶</a></h5>
<p>The sunset notification lets us know that the navigation system is running at sunset, so we know that a night sail is taking place.</p>
</section>
</section>
<section id="shutdown-information">
<h4>Shutdown Information<a class="headerlink" href="#shutdown-information" title="Link to this heading">¶</a></h4>
<p>The offsite notifier to send a set of data when the navigation system is shutdown.  This would be used for information important to planning maintenance and spotting early indications of issues.  In the initial rollout we’re hoping to send engine hours, battery status and cabin humidity with a hope to add further information such as fridge minimum temperature, engine maximum temperature, bilge water level etc.</p>
</section>
</section>
<section id="future-projects">
<h3>Future Projects<a class="headerlink" href="#future-projects" title="Link to this heading">¶</a></h3>
<section id="better-data-dashboard-access">
<h4>Better Data Dashboard Access<a class="headerlink" href="#better-data-dashboard-access" title="Link to this heading">¶</a></h4>
<p>At present the dashboard is only available on the Raspberry Pi at the chart table via a web browser which competes for screen real-estate with the chartplotter.  The boatswain’s team has ideas for two projects in the run up to the new season:</p>
<ul class="simple">
<li><p>Make the KIP dashboard viewable on the local Ariel of Hamble network so that the dashboard can be viewed on a tablet or phone in the cockpit.</p></li>
<li><p>Make a small, basic repeater that can be installed near the Raspberry Pi monitor showing only the most important data.</p></li>
</ul>
</section>
<section id="better-engine-information">
<h4>Better Engine Information<a class="headerlink" href="#better-engine-information" title="Link to this heading">¶</a></h4>
<p>There is an open source project based on OpenPlotter to interface to a Volvo Penta engine and send data such as RPM, temperature, etc. to the navigation network.</p>
</section>
<section id="better-battery-information">
<h4>Better Battery Information<a class="headerlink" href="#better-battery-information" title="Link to this heading">¶</a></h4>
<p>There have been some reports of batteries misbehaving, so we’re planning on adding battery monitors to both the Engine and House battery banks that will allow us to measure the battery voltage, provide this to the navigation network and graphically interpret the data so we can see if what correlation there is between voltage drop and equipment usage onboard.</p>
<blockquote>
<div><p>To quote the Commodore’s near namesake, William Thomson, Baron Kelvin: <em>“When you can measure what you are speaking about, and express it in numbers, you know something about it; but when you cannot measure it, when you cannot express it in numbers, your knowledge is of a meagre and unsatisfactory kind.”</em></p>
</div></blockquote>
</section>
</section>
</section>
<span id="document-pages/booting"></span><section id="starting-the-navigation-system">
<h2>Starting the Navigation System<a class="headerlink" href="#starting-the-navigation-system" title="Link to this heading">¶</a></h2>
<p>The navigation system needs to be turned on in a particular order.</p>
<ol class="arabic simple">
<li><p>As described in the overview, the boat’s GNSS source is the EmTrak AIS unit.  As this is connected to the VHF to share the antenna, it is powered by the VHF switch.  Switch on the VHF first.</p></li>
<li><p>Wait for the Location and Time to appear on the VHF screen.</p></li>
<li><p>Power on the Navigation switch.  The Raspberry Pi will boot and the  OpenCPN chartplotter software will load.  The satellite position indicator on OpenCPN should show 3-4 bars.</p></li>
<li><p>The navigation instruments need to be switched on near the navigation cupboard.  Switching on one will send a signal to the other units and they will switch on too.  Once a connection to the RayNet network occurs, information will start to be displayed.  The units can now be moved outside.</p></li>
</ol>
</section>
<span id="document-pages/opencpn_basic"></span><section id="basic-use-of-opencpn-plotter">
<h2>Basic Use of OpenCPN Plotter<a class="headerlink" href="#basic-use-of-opencpn-plotter" title="Link to this heading">¶</a></h2>
<section id="interface-overview">
<h3>Interface Overview<a class="headerlink" href="#interface-overview" title="Link to this heading">¶</a></h3>
<p>OpenCPN is an open source chartplotter maintained and improved by a large community of world-wide users.  It is freely available to download and we encourage club members to download and run it locally to allow them to practice how it is used and to allow them to plan routes, waypoints etc. in advance.</p>
<p>This is a graphic of the main interface:</p>
<p><img alt="Open CPN Overview" src="_images/overview.png"/></p>
<p>The large text “Metres” identifies the units used in the soundings depths shown on the chart.</p>
<p>In the top right corner, there is a satellite signal strength indicator showing the reliability of the position data, and an icon which informs if the plotter is in North up or Course up mode.</p>
<p>In the bottom right corner are the zoom controls of the chart, a button to pan the chart so Ariel is at the centre (boat with green dot) and a button to bring up the chart display options.</p>
<p>At the bottom left of the display, there are a number of green bars - these represent the charts that cover the area displayed.  The chart plotter blends data from a number of charts to best show required data.  This is known as “Chart-Quilting”.  The charts used will change as you zoom in and out and as you pan or change the chart settings.  In this example 3 of the 6 charts are being used in the display.  <em>Please leave chart-quilting enabled - we have set the chart detail level to what we believe is a very useful compromise - readable on a 14” screen, showing all hazards and most depth soundings.</em></p>
<p>In the top left corner is the menu bar.  The top icon expands and contracts the menu.</p>
<p>The second icon opens the Options menu.  <em>Please do not change anything in the options menu.</em></p>
<p>The third icon allows you to create a route.</p>
<p>The fourth icon opens the routes, tracks and waypoints manager, allowing you to name routes, add organise waypoints, import routes and waypoints from file etc.</p>
<p>The fifth icon toggles track recording on and off.</p>
<p>The sixth icon toggles between daytime, dusk and nighttime colour schemes.</p>
<p>The seventh icon opens the help dialogue.</p>
<p>The eigth icon allows the user to download and view UK tidal data.</p>
<p>The ninth icon opens an AIS Radar so you can see AIS targets without the distraction of the chart items.</p>
<p>The final icon will drop a MOB waypoint.</p>
</section>
<section id="chart-display-options">
<h3>Chart Display Options<a class="headerlink" href="#chart-display-options" title="Link to this heading">¶</a></h3>
<p>The chart display options can be accessed by clicking on the three horizontal bars on the menu bar on the bottom right of the screen, near the zoom buttons and the centre on boat button.</p>
<p><img alt="Open CPN Overview" src="_images/Chart-options.png"/></p>
</section>
<section id="zooming-and-panning">
<h3>Zooming and Panning<a class="headerlink" href="#zooming-and-panning" title="Link to this heading">¶</a></h3>
<p>There are two different ways to pan the chart that is being displayed.  The first, move the mouse pointer to edge of chart,  the mouse pointer will turn in to green triangle.  Once the green triangle is shown, click the left mouse button and the chart will move.  Secondly, the chart can be dragged using the mouse.  Click and hold the left mouse button and then move the mouse, the chart will move with the mouse.</p>
<p>To zoom the chart in or out, there are two alternatives too.  The user can use the mouse wheel to zoom in or out, or they can use the icons + or - on the control panel at the bottom right of the screen.</p>
</section>
<section id="getting-information-on-chart-item">
<h3>Getting Information on Chart Item<a class="headerlink" href="#getting-information-on-chart-item" title="Link to this heading">¶</a></h3>
<p>One of the key items that more modern chart plotters offer is a large quantity of data about items on the screen.  You can get flash patterns, descriptions of the structure of a light, warnings etc.</p>
<p>To view the information, right click the mouse on the specific item.</p>
<p><img alt="Selection that appears after right clicking on chart item" src="_images/Object-query1.png"/></p>
<p>From the pop up menu, select Object Query.</p>
<p><img alt="Object Query Data Box" src="_images/ObjectQuery2.png"/></p>
</section>
<section id="measuring-distance-on-chart">
<h3>Measuring Distance on Chart<a class="headerlink" href="#measuring-distance-on-chart" title="Link to this heading">¶</a></h3>
<p>Distance and direction can be measured between any two points on the chart.  To start a measurement, right click with the mouse and select measure (or press letter M on keyboard).</p>
<p>Left click with the mouse at first point, then move the mouse to the second point and read off the distance and direction.  The screen will auto-pan if you’re move the mouse to the edge of the chart whilst measuring.</p>
<p><img alt="Measuring a distance and direction on a char" src="_images/Measure.png"/></p>
</section>
<section id="adding-waypoints-marks">
<h3>Adding Waypoints/Marks<a class="headerlink" href="#adding-waypoints-marks" title="Link to this heading">¶</a></h3>
<p>There are two methods to add waypoints in OpenCPN.  To navigate to a waypoint <em>CHECK</em></p>
<section id="import-a-file">
<h4>Import a file<a class="headerlink" href="#import-a-file" title="Link to this heading">¶</a></h4>
<p>The first method uses a standard file format called GPX which can store waypoints, routes or tracks.  These can be exported from most GPS related software so you can plan at home and import to OpenCPN.</p>
<p>Open the Mark Manager from the control panel on the left hand side of the plotter screen.  Click on the Marks tab, and at the bottom of the manager box click Import GPX.  Alternatively, marks can be imported as a layer, which can be turned on and off en masse.  Currently, we have layers for the Solent Racing Marks and Dartmouth regatta marks.</p>
<p><img alt="Importing a GPX File" src="_images/import-gpx.png"/>
<img alt="Importing a GPX File" src="_images/import-gpx2.png"/></p>
</section>
<section id="via-chart">
<h4>Via chart<a class="headerlink" href="#via-chart" title="Link to this heading">¶</a></h4>
<p>When adding marks via the chart, right click the mouse at the point where you want to add a waypoint and click Drop Mark.</p>
<p>To name the waypoint or to change the icon, go to mark manager, navigate to the marks tab and click on the relevant waypoint. Click Properties on the right hand of the panel and change the name, location or icon.  Remember to press Save.</p>
<p><em>Any waypoints which are not named will be deleted on a monthly basis.</em></p>
</section>
</section>
<section id="creating-and-activating-a-route">
<h3>Creating and Activating a Route<a class="headerlink" href="#creating-and-activating-a-route" title="Link to this heading">¶</a></h3>
<p>Similar to waypoints, routes can be imported from a GPX file that has been created in advance.</p>
<p>To create a route, start by right clicking the mouse on the chart and select New route.</p>
<p><img alt="Creating a new route" src="_images/create-route.png"/></p>
<p>Click at each point on the route.  To finish making the route <em>CHECK</em></p>
<p><img alt="Creating a new route" src="_images/create_route2.png"/></p>
<p><img alt="Creating a new route" src="_images/create-route3.png"/></p>
<p>To start using the route, either right click the mouse on the route and click Activate, or open route manager, navigate to the routes tab and click activate.  The route can also be named by clicking on Properties in the route manager.</p>
<p><em>Any routes which are not named will be deleted on a monthly basis.</em></p>
</section>
<section id="course-up-mode">
<h3>Course-up Mode<a class="headerlink" href="#course-up-mode" title="Link to this heading">¶</a></h3>
<p>Chart up mode can be enabled by clicking on the Arrow next to the satellite signal level indicator on the control bar at the top right of the display or via the chart control pop-up that is accessed by clicking the three horizontal bars at the bottom left of the display.</p>
<p><em>This does slow the chart rendering and is not recommended.</em></p>
<p><img alt="Open CPN Overview" src="_images/course-up.png"/></p>
</section>
<section id="showing-ais-targets">
<h3>Showing AIS Targets<a class="headerlink" href="#showing-ais-targets" title="Link to this heading">¶</a></h3>
<p>AIS targets can be switched on and off using chart inoformation control pop-up that is accessed by clicking the three horizontal bars at the bottom left of the display.  Please ensure that this is left on for the next skipper and crew.</p>
<p>To view more details about an AIS target, such as size, speed, destination, you can right click the mouse on the vessel icon and then click AIS Target Query.</p>
<p><img alt="AIS Target Query data box" src="_images/AIS_query.png"/></p>
<p>NB there are two classes of AIS user, class A and class B.  Class B are smaller craft, like Ariel, and do not transmit the same level of detail as a class A user.</p>
</section>
</section>
<span id="document-pages/opencpn_advanced"></span><section id="advanced-use-of-opencpn">
<h2>Advanced Use of OpenCPN<a class="headerlink" href="#advanced-use-of-opencpn" title="Link to this heading">¶</a></h2>
<section id="accessing-tidal-data">
<h3>Accessing Tidal Data<a class="headerlink" href="#accessing-tidal-data" title="Link to this heading">¶</a></h3>
<p><em>Tidal Data</em></p>
</section>
<section id="ais-radar-plots">
<h3>AIS Radar Plots<a class="headerlink" href="#ais-radar-plots" title="Link to this heading">¶</a></h3>
<p>The AIS can be displayed on a RADAR-like overlay.  This is available from the main control panel on the left hand side of the display.</p>
<p><img alt="AIS RADAR Plot" src="_images/AIS-radar.png"/></p>
</section>
<section id="updating-charts">
<h3>Updating Charts<a class="headerlink" href="#updating-charts" title="Link to this heading">¶</a></h3>
<p><em>This should only be done with permission of the commodore or boatswain</em>  This action can be undertaken remotely by them, which is preferable.</p>
<p>To update charts in the Open CPN plotter, click on the settings icon (a cog) in the left hand side dropdown.  This will open the following menu system.</p>
<ol class="arabic simple">
<li><p>Within the Options box, clci the charts icon in the top row, then on the second row of options that appears, click “o-charts”.</p></li>
<li><p>This will open up the “o-charts” options.  Click “Refresh Charts List” and wait for the plotter to check the Internet server for any updates.</p></li>
</ol>
<p><img alt="Options Window for o-charts" src="_images/chart-update1.png"/></p>
<ol class="arabic simple" start="3">
<li><p>Click on the first chart set (in this image “British Isles 2025”).  If there is a chart update available, under the available actions you will be able to click “Update Selected Chart for sgl001F361B (USB Key Dongle)”</p></li>
<li><p>The software will then update a chart pack update from the internet.  This will take some time.</p></li>
</ol>
<p><img alt="Instruments" src="_images/chart-update2.png"/></p>
<ol class="arabic simple" start="5">
<li><p>When the download finishes, you will be asked if you want to use the normal storage locaation for chart files.  Click “Continue”</p></li>
<li><p>Repeat steps 3 - 5 for the other chart packs installed in the system (in the image we also have “France Atlantic 2025”)</p></li>
</ol>
<p><img alt="Instruments" src="_images/chart-update3.png"/></p>
<ol class="arabic simple" start="7">
<li><p>Once all chart packs have had their downloads stored on the plotter, click on the “Chart Files” option on the second row of options, then click “Prepare all ENC Charts”</p></li>
<li><p>Finally, Click “Apply” at the bottom of the Options dialogue box, wait for the charts to be applied and then click “Ok”.</p></li>
</ol>
</section>
<section id="connecting-to-navigation-data-via-wifi">
<h3>Connecting to Navigation Data via WiFi<a class="headerlink" href="#connecting-to-navigation-data-via-wifi" title="Link to this heading">¶</a></h3>
<p>A data connection can be established with the plotter to receive data on a mobile device.</p>
<p>Data available on the connection includes:</p>
<ul class="simple">
<li><p>Location</p></li>
<li><p>Speed and SOG</p></li>
<li><p>Heading and COG</p></li>
<li><p>Depth</p></li>
<li><p>AIS vessels</p></li>
<li><p>Waypoint data (range, bearing etc.)</p></li>
<li><p>DSC Emergency message locations</p></li>
</ul>
<p>The WiFi access point has a 4G mobile data connection to allow the plotter to download chart updates, weather data and tidal data and to allow remote access.  It is not to be used for generic web browsing.</p>
<p>To connect to the data stream:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Data Item</p></th>
<th class="head"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>WiFi Access Point SSID</p></td>
<td><p>ariel_access</p></td>
</tr>
<tr class="row-odd"><td><p>WiFi Access Point Password</p></td>
<td><p>gbr8633t</p></td>
</tr>
<tr class="row-even"><td><p>Data Source</p></td>
<td><p>192.168.1.105</p></td>
</tr>
<tr class="row-odd"><td><p>Port</p></td>
<td><p>10110</p></td>
</tr>
</tbody>
</table>
</section>
<section id="kip-dashboard">
<h3>KIP Dashboard<a class="headerlink" href="#kip-dashboard" title="Link to this heading">¶</a></h3>
<p>The KIP dashboard runs on a web browser.  The browser should open automatically, if it doesn’t, the blue globe logo on the top bar next to the Raspberry Pi logo will start the software.  Navigate to <em>IP address</em>.</p>
<p>The initial page is useful for sailing, showing wind, speed, course etc.</p>
<p><img alt="Initial KIP Page" src="_images/KIP-dashboard1.png"/></p>
<p>Further pages are available.  To change between pages, use  the keyboard clicking Ctrl and Up arrow or Ctrl and Down arrow to change page.</p>
<p><img alt="Second KIP Page" src="_images/KIP-dashboard2.png"/></p>
<p><img alt="Third KIP Page" src="_images/KIP-Dashboard3.png"/></p>
<p>Further information will be added to the screens as it becomes available.</p>
</section>
</section>
<span id="document-pages/other_openplotter_software"></span><section id="other-useful-openplotter-software">
<h2>Other Useful OpenPlotter Software<a class="headerlink" href="#other-useful-openplotter-software" title="Link to this heading">¶</a></h2>
<section id="xygrib">
<h3>XyGrib<a class="headerlink" href="#xygrib" title="Link to this heading">¶</a></h3>
<p>XyGrib is an open source software package designed to download and display weather forecast in a compressed format that doesn’t require much data.</p>
<p><img alt="XyGrib Gridded Binary Weather Viewer" src="_images/xygrib-forecast.png"/></p>
<p>To download data, use the mouse to click and drag a square over the area of interest and then click the download button on the icon bar (next to the Show Model Limits drop-down).  You’ll then be able to choose the model of interest (the EU model EMCWF is good for European waters) and the items you’re interested in (Temperature, Wind speed, Precipitation etc.)</p>
<p>Once the file has downloaded, it will open.  You can use the left and right arrows on the icon bar to step forwards and backwards in time.  The Timeline is shown at the bottom of the screen.</p>
<p>To change what the forecast pane is showing, use the Weather Map drop-down at the top of the page.  It will show which forecast elements are available in the downloaded file.</p>
</section>
<section id="vlc">
<h3>VLC<a class="headerlink" href="#vlc" title="Link to this heading">¶</a></h3>
<p>VideoLAN VLC is a video viewer.  It can play just about any video file.  If you open the VLC viewer and click Media and then open, you’ll get a file open dialogue and can choose a video to play.</p>
<p><img alt="VideoLAN VLC" src="_images/vlc.png"/></p>
</section>
<section id="screenshot">
<h3>Screenshot<a class="headerlink" href="#screenshot" title="Link to this heading">¶</a></h3>
<p>The screenshot tool allows you to easily take a screenshot of the plotter, with a delay so you can get the mouse in to position.  This is incredibly useful if you’re asking for help from the boatswain’s team. (Unfortunately, I can’t take a screenshot of the screenshot app)</p>
</section>
</section>
<span id="document-pages/shutdown"></span><section id="shutting-down-the-navigation-system">
<h2>Shutting Down the Navigation System<a class="headerlink" href="#shutting-down-the-navigation-system" title="Link to this heading">¶</a></h2>
<ol class="arabic simple">
<li><p>The TackTick Instruments are shut off by switching off one unit, the others receive a command to shut down.</p></li>
<li><p>Turn off the VHF Switch on the Switch Panel.</p></li>
<li><p>The preferred way of switching off the navigation is to request the Raspberry Pi mini computer to shut down.  To do this, first click on the Raspberry logo in the top left of the screen.</p></li>
<li><p>Then click “Shut Down”.</p></li>
</ol>
<blockquote>
<div><p>NOTE: DO NOT just switch off the Battery Isolator - this could corrupt the data on the Raspberry Pi mini computer.</p>
</div></blockquote>
</section>
<span id="document-pages/troubleshooting"></span><section id="troubleshooting">
<h2>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Link to this heading">¶</a></h2>
</section>
<span id="document-pages/reporting_fault"></span><section id="reporting-a-fault">
<h2>Reporting a Fault<a class="headerlink" href="#reporting-a-fault" title="Link to this heading">¶</a></h2>
<p>Please send fault reports with the system to the Commodore and the Boatswain.</p>
<p>In the fault report please include:</p>
<ul class="simple">
<li><p>A description of the error including, if possible, what data values are faulty.</p>
<ul>
<li><p>For example, Depth is showing “—” on the TackTick display, but is present on the plotter display.  Reports such as speed is wrong, without</p></li>
</ul>
</li>
<li><p>a description of what is happening are difficult to remotely diagnose.</p>
<ul>
<li><p>Screenshots, photos, videos etc. are always helpful!</p></li>
</ul>
</li>
<li><p>The date and time that the error occurred.</p></li>
</ul>
<p>The Commodore and Boatswain have remote access to the system, so they may ask you to leave it switched on when you’re doing something else.</p>
<p>test</p>
</section>
<span id="document-pages/update_list"></span><section id="update-list">
<h2>Update List<a class="headerlink" href="#update-list" title="Link to this heading">¶</a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>version</p></th>
<th class="head"><p>description</p></th>
<th class="head"><p>date</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0.6</p></td>
<td><p><em>Advanced usage</em> Added description of advanced use of the system and</p></td>
<td><p>22/02/26</p></td>
</tr>
<tr class="row-odd"><td><p>0.5</p></td>
<td><p><em>Basic usage</em> Added description of basic use of the system</p></td>
<td><p>22/02/26</p></td>
</tr>
<tr class="row-even"><td><p>0.4</p></td>
<td><p><em>Booting and Shutting Down</em> Added data on how to safely boot and shutdown the system</p></td>
<td><p>22/01/26</p></td>
</tr>
<tr class="row-odd"><td><p>0.3</p></td>
<td><p><em>Technical Overview</em> Added an overview of the navigation hardware, sensors and software used on Ariel of Hamble</p></td>
<td><p>22/01/26</p></td>
</tr>
<tr class="row-even"><td><p>0.2</p></td>
<td><p><em>Automated PDF creation</em> Set up creation of PDF using Sphinx SimplePDF</p></td>
<td><p>21/01/26</p></td>
</tr>
<tr class="row-odd"><td><p>0.1</p></td>
<td><p><em>Automated webpage creation</em> Set up publishing to GitHub pages using Sphinx to convert from Markdown to HTML</p></td>
<td><p>21/01/26</p></td>
</tr>
</tbody>
</table>
<section id="major-chart-updates">
<h3>Major Chart Updates<a class="headerlink" href="#major-chart-updates" title="Link to this heading">¶</a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Chart</p></th>
<th class="head"><p>description</p></th>
<th class="head"><p>date</p></th>
</tr>
</thead>
</table>
</section>
</section>
</div>
</section>
<div class="clearer"></div>
</div>
</div>
</div>
<div class="clearer"></div>
</div>
<article id="back-cover">
<div class="container">
<div class="back-cover-footer">
<p>
                    © Copyright BBCYC 2026.
            </p>
<p>
                  Created using <a href="http://sphinx-doc.org/">Sphinx</a> 9.1.0.
            </p>
</div>
</div>
</article>
</body>
</html>